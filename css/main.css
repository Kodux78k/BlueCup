
    /* MOBILE-FIRST VERTICAL HARD-LOCK */
    :root{
      --bg:#050510;
      --bg-elev:#0a0a1c;
      --bg-soft:#0f0f28;
      --stroke:rgba(255,255,255,.08);
      --glass:rgba(10,12,30,.72);
      --txt:#e9ecff;
      --muted:rgba(233,236,255,.7);

      /* Nebula Pro */
      --nebula-a:#ff00ff;
      --nebula-b:#00ffff;

      /* VisualKernel base vars */
      --neb-a:#ff00ff;
      --neb-b:#00ffff;
      --neb-c:#050510;
      --wood-a:#C9FF6A;
      --wood-b:#34F28A;
      --wood-c:#0C6B3E;

      /* Base Madeira */
      --wood:#5CFF9D;
      --wood-soft:rgba(92,255,157,.18);

      --radius:18px;
      --tap:48px;
      --safe-b: env(safe-area-inset-bottom, 0px);
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Inter, Arial, sans-serif;
      color:var(--txt);
      background:
        radial-gradient(1200px 800px at 120% -10%, rgba(255,0,255,.22), transparent 60%),
        radial-gradient(1200px 800px at -20% 110%, rgba(0,255,255,.18), transparent 60%),
        linear-gradient(42deg, #120022, #001a22 65%, #020416);
      min-height:100vh;
      overflow-x:hidden;
    }

    header{
      position:sticky; top:0; z-index:10;
      background:linear-gradient(180deg, rgba(5,5,16,.95), rgba(5,5,16,.7) 70%, transparent);
      backdrop-filter: blur(8px);
      border-bottom:1px solid var(--stroke);
      padding:12px 14px 10px;
    }
    .headrow{
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      font-weight:800; letter-spacing:.5px;
    }
    .cup{
      width:38px; height:38px; border-radius:12px;
      background: radial-gradient(circle at 30% 25%, #fff, #ddd 15%, transparent 16%),
                  radial-gradient(circle at 65% 70%, rgba(92,255,157,.9), transparent 55%),
                  conic-gradient(from 120deg, var(--nebula-a), var(--nebula-b), var(--nebula-a));
      box-shadow:0 0 18px rgba(0,255,255,.35), 0 0 22px rgba(255,0,255,.25);
      display:grid; place-items:center; font-size:18px;
      border:1px solid rgba(255,255,255,.12);
      cursor:pointer;
    }
    .status{
      font-size:12px; color:var(--muted);
      display:flex; align-items:center; gap:6px;
    }
    .dot{
      width:8px;height:8px;border-radius:99px;background:#888;
      box-shadow:0 0 10px rgba(255,255,255,.2);
    }
    .dot.on{ background:var(--wood); box-shadow:0 0 12px var(--wood); }

    main{
      padding:12px 12px calc(20px + var(--safe-b));
      display:flex; flex-direction:column; gap:12px;
      max-width:900px; margin:0 auto;
    }

    .card{
      background:var(--glass);
      border:1px solid var(--stroke);
      border-radius:var(--radius);
      box-shadow:0 12px 40px rgba(0,0,0,.55);
      overflow:hidden;
    }

    details{ display:block; }
    summary{
      list-style:none; cursor:pointer; user-select:none;
      padding:14px 14px;
      font-weight:800; letter-spacing:.4px;
      display:flex; align-items:center; justify-content:space-between;
      background:linear-gradient(180deg, rgba(255,255,255,.03), transparent);
      min-height:var(--tap);
    }
    summary::-webkit-details-marker{ display:none; }
    .chev{ opacity:.7; font-size:14px; }

    .section{
      padding:12px;
      display:flex; flex-direction:column; gap:10px;
    }

    /* CHAT */
    .chatBox{
      background:rgba(0,0,0,.25);
      border:1px solid var(--stroke);
      border-radius:14px;
      padding:10px;
      min-height:220px;
      max-height:55vh;
      overflow:auto;
      display:flex; flex-direction:column; gap:8px;
    }
    .msg{
      padding:10px 12px;
      border-radius:14px;
      max-width:95%;
      white-space:pre-wrap;
      line-height:1.35;
      font-size:15px;
      border:1px solid transparent;
    }
    .msg.you{
      align-self:flex-end;
      background:rgba(92,255,157,.10);
      border-color:var(--wood-soft);
      box-shadow:0 0 0 1px rgba(92,255,157,.12) inset;
    }
    .msg.bot{
      align-self:flex-start;
      background:rgba(27,228,255,.08);
      border-color:rgba(27,228,255,.16);
    }
    .msg.sys{
      align-self:center;
      font-size:12px; color:var(--muted);
      background:transparent; border:none; padding:2px 0;
    }

    .inputRow{
      display:flex; flex-direction:column; gap:8px;
    }
    textarea#chatInput{
      width:100%; min-height:56px; max-height:160px;
      background:var(--bg-soft); color:var(--txt);
      border:1px solid var(--stroke); border-radius:14px;
      padding:12px 12px; font-size:16px; outline:none;
      resize:vertical;
    }
    .btnRow{
      display:flex; gap:8px; flex-wrap:nowrap; overflow-x:auto;
    }
    button{
      min-height:var(--tap);
      border-radius:14px;
      border:1px solid var(--stroke);
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      color:var(--txt);
      padding:0 12px;
      font-weight:700; letter-spacing:.3px;
      cursor:pointer;
      white-space:nowrap;
    }
    button.primary{
      border-color:rgba(92,255,157,.35);
      box-shadow:0 0 0 1px rgba(92,255,157,.16) inset, 0 0 16px rgba(92,255,157,.18);
    }
    button:disabled{
      opacity:.5; cursor:not-allowed;
    }

    /* TRÃADES */
    .orb{
      width:140px; height:140px; border-radius:999px;
      margin:4px auto 6px;
      background:
        radial-gradient(circle at 30% 20%, rgba(255,255,255,.9), transparent 28%),
        conic-gradient(from 90deg, var(--nebula-a), var(--wood), var(--nebula-b), var(--nebula-a));
      box-shadow:0 0 30px rgba(0,255,255,.35), 0 0 30px rgba(255,0,255,.25);
      display:grid; place-items:center;
      animation: spin 9s linear infinite;
      border:1px solid rgba(255,255,255,.16);
      cursor:pointer;
      position:relative;
    }
    .orb::after{
      content:"";
      position:absolute; inset:-10px; border-radius:999px;
      background:radial-gradient(circle, rgba(92,255,157,.20), transparent 60%);
      animation:pulse 2.4s ease-in-out infinite;
      z-index:-1;
    }
    @keyframes spin{ to{ transform:rotate(360deg);} }
    @keyframes pulse{ 50%{ transform:scale(1.06); opacity:.6;} }

    .triadOut{
      text-align:center; font-size:22px; font-weight:800;
      letter-spacing:2px;
      padding:8px; border-radius:12px;
      background:rgba(0,0,0,.25);
      border:1px dashed var(--stroke);
    }

    /* STACKS */
    .stackList{ display:flex; flex-direction:column; gap:8px; }
    .stackItem{
      padding:10px 12px; border-radius:12px;
      background:rgba(0,0,0,.25); border:1px solid var(--stroke);
      display:flex; flex-direction:column; gap:4px;
    }
    .stackItem .title{ font-weight:800; }
    .stackItem .meta{ font-size:12px;color:var(--muted); }

    /* DEV PANEL */
    .field{
      display:flex; flex-direction:column; gap:6px;
    }
    .field input, .field select, .field textarea{
      width:100%;
      background:var(--bg-soft); color:var(--txt);
      border:1px solid var(--stroke); border-radius:12px;
      padding:10px 12px; font-size:15px; outline:none;
    }
    .field textarea{ min-height:90px; resize:vertical; }

    .tiny{
      font-size:12px; color:var(--muted);
    }

    .row2{
      display:block; /* hard-lock vertical */
    }
  

/* ====================================================================== */
/* RENDER RICO + BOTÃ•ES COPY/LISTEN (override BlueCup)                     */
/* ====================================================================== */
.chat-message{
  position:relative;
  padding:1rem 1.1rem 1.3rem;
  background:rgba(27,228,255,.08);
  border:1px solid rgba(27,228,255,.16);
  border-radius:14px;
  line-height:1.6;
  color:var(--txt);
  font-size:15px;
  white-space:normal;
}
.chat-message.you{
  background:rgba(92,255,157,.10);
  border-color:var(--wood-soft);
  box-shadow:0 0 0 1px rgba(92,255,157,.12) inset;
}
.chat-message.sys{
  background:transparent;
  border:none;
  font-size:12px;
  color:var(--muted);
  padding:2px 0;
}
.chat-message pre{
  background:#0b0b10;
  color:#e6e6e6;
  padding:0.9rem;
  border-radius:10px;
  overflow-x:auto;
  font-family:"Fira Code", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
  margin:.6rem 0;
  font-size:.88rem;
  border:1px solid rgba(255,255,255,.08);
}
.chat-message code{
  background:#0b0b10;
  color:#d8f3ff;
  padding:0.12rem 0.35rem;
  border-radius:6px;
  font-family:"Fira Code", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
  font-size:.88rem;
  border:1px solid rgba(255,255,255,.06);
}
.chat-message blockquote{
  margin:.4rem 0;
  padding:.5rem .75rem;
  border-left:3px solid var(--accent, #1be4ff);
  background:rgba(255,255,255,.03);
  border-radius:8px;
  color:var(--txt);
}

/* Callouts ::info ::aside ::success ::warn ::question */
.callout{
  margin:.6rem 0;
  padding:.65rem .8rem;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.04);
}
.callout.info{ border-color:rgba(27,228,255,.4); background:rgba(27,228,255,.08); }
.callout.aside{ border-color:rgba(255,0,255,.35); background:rgba(255,0,255,.06); }
.callout.success{ border-color:rgba(92,255,157,.5); background:rgba(92,255,157,.08); }
.callout.warn{ border-color:rgba(255,166,66,.5); background:rgba(255,166,66,.08); }
.callout.question{ border-color:rgba(160,122,255,.5); background:rgba(160,122,255,.08); }
.callout .callout-title{
  font-weight:800; letter-spacing:.3px; font-size:12px; opacity:.9;
  text-transform:uppercase; margin-bottom:.35rem;
}

.chat-message .copy-btn,
.chat-message .listen-btn{
  position:absolute; top:0.35rem; right:0.35rem;
  width:28px; height:28px; border-radius:999px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(5,5,16,.9);
  box-shadow:0 4px 10px rgba(0,0,0,.35);
  display:inline-flex; align-items:center; justify-content:center;
  font-size:0.8rem; color:var(--txt);
  cursor:pointer; padding:0; outline:none;
}
.chat-message .listen-btn{ right:2.85rem; }
.chat-message .copy-btn::before{ content:"â§‰"; }
.chat-message .listen-btn::before{ content:"ðŸ”Š"; }


/* ====================================================================== */
/* Voice blocks (Gerardo MD)                                               */
/* ====================================================================== */
.voice-block{
  margin:.45rem 0;
  padding:.5rem .7rem;
  border-left:3px solid rgba(255,255,255,.18);
  background:rgba(255,255,255,.02);
  border-radius:8px;
}
.voice-block .voice-tag{
  font-weight:900; letter-spacing:.08em; font-size:11px; text-transform:uppercase;
  opacity:.9; margin-bottom:.25rem; display:block;
  color:var(--accent,#1be4ff);
}
.voice-block.speaking{
  border-left-color:var(--wood,#5cff9d);
  box-shadow:0 0 0 1px rgba(92,255,157,.18) inset;
  background:rgba(92,255,157,.04);
}


/* ---- Arch Voz Theme ---- */

:root{
  --kob-voice-primary:   #00d8d8;
  --kob-voice-secondary: #d800d8;
  --kob-voice-accent:    #ffffff;
  --kob-voice-bg-soft:   rgba(0,216,216,0.08);
  --kob-voice-glow:      0 0 18px rgba(0,216,216,0.55);
}

/* Dock de TTS (jÃ¡ existe no teu app, sÃ³ estilizamos) */
.kob-tts-dock{
  background: var(--kob-voice-bg-soft);
  box-shadow: var(--kob-voice-glow);
  border-radius: 12px;
  backdrop-filter: blur(16px);
  border: 1px solid rgba(255,255,255,0.06);
}

.kob-tts-dock button[data-tts-btn="toggle"]{
  border: 1px solid var(--kob-voice-primary);
  color:  var(--kob-voice-accent);
}

.kob-tts-dock button[data-tts-btn="sel"],
.kob-tts-dock button[data-tts-btn="stop"]{
  border: 1px solid rgba(255,255,255,0.16);
}

/* Se no futuro vocÃª marcar um bloco como "sendo lido" */
[data-being-read="true"]{
  outline: 1px solid var(--kob-voice-primary);
  background: var(--kob-voice-bg-soft);
}

/* Temas por arquÃ©tipo (opcional, pra animar o body) */
body[data-voice-arch="kobllux"]{
  --kob-voice-primary:#00d8d8;
  --kob-voice-secondary:#d800d8;
}
body[data-voice-arch="uno"]{
  --kob-voice-primary:#ffffff;
  --kob-voice-secondary:#bbbbbb;
}
body[data-voice-arch="minuz"]{
  --kob-voice-primary:#FF3366;
  --kob-voice-secondary:#111111;
}
body[data-voice-arch="kodux"]{
  --kob-voice-primary:#FF6FB5;
  --kob-voice-secondary:#5B2C6F;
}
body[data-voice-arch="nova"]{
  --kob-voice-primary:#FF6FB5;
  --kob-voice-secondary:#FFD6E8;
}
body[data-voice-arch="kaos"]{
  --kob-voice-primary:#FF5C8A;
  --kob-voice-secondary:#3D000F;
}
body[data-voice-arch="serena"]{
  --kob-voice-primary:#7AD3A8;
  --kob-voice-secondary:#154734;
}
body[data-voice-arch="atlas"]{
  --kob-voice-primary:#6CCFF6;
  --kob-voice-secondary:#1B4965;
}
body[data-voice-arch="cooplux"]{
  --kob-voice-primary:#39FFB6;
  --kob-voice-secondary:#00d8d8;
}
body[data-voice-arch="fitlux"]{
  --kob-voice-primary:#FFC857;
  --kob-voice-secondary:#FFE39A;
}


/* ====================================================================== */
/* Dual+Triade Visual                                                      */
/* ====================================================================== */
.chat-message.primary{
  border-color: rgba(27,228,255,.35);
  box-shadow: 0 0 0 1px rgba(27,228,255,.12) inset;
}
.chat-message.secondary{
  opacity:.72;
  font-size:.95em;
  background:rgba(255,255,255,.02);
  border-style:dashed;
  border-color:rgba(255,255,255,.10);
  transform:none;
}
.chat-message.triad{
  opacity:.82;
  font-size:.95em;
  background:rgba(92,255,157,.05);
  border-color:rgba(92,255,157,.20);
  border-style:solid;
}


/* ====================================================================== */
/* PRETTY OVERRIDE PACK (Nebula Pro + Base Madeira)                         */
/* ====================================================================== */
.card{
  border:1px solid rgba(255,255,255,.10);
  border-radius:18px;
  background:
    radial-gradient(1200px 700px at 10% -20%, rgba(240,0,255,.07), transparent 55%),
    radial-gradient(900px 600px at 110% 0%, rgba(0,255,255,.07), transparent 50%),
    linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
  box-shadow:0 16px 34px rgba(0,0,0,.55);
  overflow:hidden;
}
.card details>summary{
  list-style:none;
  cursor:pointer;
  font-weight:900;
  letter-spacing:.10em;
  text-transform:uppercase;
  font-size:.95rem;
  display:flex; align-items:center; gap:.6rem;
  padding:.7rem .9rem;
  background:rgba(0,0,0,.28);
  border-bottom:1px solid rgba(255,255,255,.06);
  position:relative;
}
.card details>summary::-webkit-details-marker{ display:none; }
.card details>summary::before{
  content:"";
  width:.9rem; height:.9rem; border-radius:999px; flex:0 0 auto;
  background: conic-gradient(from 90deg, #f0f, #0ff, #f0f);
  box-shadow:0 0 12px rgba(240,0,255,.55), 0 0 12px rgba(0,255,255,.55) inset;
  opacity:.9;
}
.card details[open]>summary{
  background:
    radial-gradient(130% 160% at 0% 0%, rgba(27,228,255,.10), transparent 60%),
    radial-gradient(130% 160% at 100% 100%, rgba(92,255,157,.08), transparent 60%),
    rgba(0,0,0,.32);
}
.card .content{ padding:.8rem .9rem 1rem; }

input, textarea, select{
  background:rgba(0,0,0,.28);
  border:1px solid rgba(255,255,255,.12);
  color:inherit;
  border-radius:12px;
  padding:.6rem .7rem;
  outline:none;
}
.btn, button.btn{
  border-radius:12px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(0,0,0,.25);
  color:inherit;
  padding:.55rem .8rem;
  font-weight:800;
  cursor:pointer;
  transition:transform .12s ease, border-color .12s ease, background .12s ease, box-shadow .12s ease;
}
.btn:hover, button.btn:hover{
  transform:translateY(-1px);
  border-color:rgba(27,228,255,.6);
  background:rgba(27,228,255,.08);
  box-shadow:0 8px 22px rgba(0,0,0,.55);
}

/* APPS STACK â€” Nebula Card */
.appsCard{
  border:1px solid rgba(255,255,255,.10);
  background:
    radial-gradient(1200px 700px at 10% -20%, rgba(240,0,255,.10), transparent 55%),
    radial-gradient(900px 600px at 110% 0%, rgba(0,255,255,.10), transparent 50%),
    linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
}
.appsToolbar{ display:flex; gap:.6rem; align-items:center; margin:.2rem 0 .6rem; flex-wrap:wrap; }
.appsSearchWrap{
  flex:1; min-width:0; display:flex; align-items:center; gap:.45rem;
  padding:.55rem .7rem; border-radius:12px;
  background: rgba(0,0,0,.25);
  border:1px solid rgba(255,255,255,.10);
  box-shadow: 0 6px 16px rgba(0,0,0,.45) inset;
}
.appsSearchIcon{ opacity:.8; font-size:.9rem; }
.appsSearchWrap input{ width:100%; background:transparent; border:0; outline:none; color:inherit; font-size:.95rem; }

.appsReloadBtn{
  position:relative; padding:.6rem .9rem; border-radius:12px;
  font-weight:800; letter-spacing:.04em;
  border:1px solid rgba(27,228,255,.55);
  background:
    radial-gradient(120% 140% at 0% 0%, rgba(27,228,255,.22), transparent 60%),
    radial-gradient(120% 140% at 100% 100%, rgba(92,255,157,.18), transparent 60%),
    rgba(255,255,255,.03);
  color:inherit; cursor:pointer; overflow:hidden;
  box-shadow:0 8px 22px rgba(0,0,0,.55);
  transition:transform .12s ease, box-shadow .12s ease, border-color .12s ease;
}
.appsReloadGlow{
  position:absolute; inset:-40%;
  background: conic-gradient(from 0deg, transparent, rgba(27,228,255,.65), transparent, rgba(240,0,255,.55), transparent);
  filter: blur(18px); opacity:.35; animation: appsGlow 3.6s linear infinite; pointer-events:none;
}
@keyframes appsGlow{ to{ transform:rotate(360deg); } }
.appsReloadBtn:hover{ transform:translateY(-1px); border-color:rgba(240,0,255,.7); box-shadow:0 10px 28px rgba(0,0,0,.65); }

.appsGrid{ display:grid; grid-template-columns:1fr; gap:.7rem; }
.appCard{
  display:flex; gap:.8rem; align-items:center; padding:.85rem; border-radius:16px;
  background:
    radial-gradient(120% 120% at 0% 0%, rgba(240,0,255,.07), transparent 60%),
    radial-gradient(120% 120% at 100% 100%, rgba(0,255,255,.07), transparent 60%),
    rgba(255,255,255,.02);
  border:1px solid rgba(255,255,255,.10);
  box-shadow:0 14px 30px rgba(0,0,0,.55);
}
.appIcon{
  width:54px; height:54px; border-radius:14px; flex:0 0 auto;
  background: rgba(0,0,0,.35);
  border:1px solid rgba(255,255,255,.10);
  display:grid; place-items:center; overflow:hidden;
  box-shadow:0 6px 14px rgba(0,0,0,.6) inset;
}
.appIcon img{ width:100%; height:100%; object-fit:cover; }
.appBody{ flex:1; min-width:0; }
.appTitle{ font-weight:900; font-size:1.02rem; letter-spacing:.02em; }
.appDesc{ opacity:.8; font-size:.9rem; margin-top:.15rem; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
.appActions{ display:flex; gap:.45rem; margin-top:.5rem; flex-wrap:wrap; }
.appBtn{
  font-size:.82rem; padding:.45rem .65rem; border-radius:12px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(0,0,0,.25); color:inherit; cursor:pointer;
  transition:transform .12s ease, border-color .12s ease, background .12s ease;
}
.appBtn:hover{ transform:translateY(-1px); border-color:rgba(27,228,255,.6); background:rgba(27,228,255,.08); }
.appBtn.primary{ border-color: rgba(92,255,157,.65); background: rgba(92,255,157,.12); }

/* Tabelista */
table.tabelista{
  width:100%; border-collapse:separate; border-spacing:0; margin:.6rem 0;
  overflow:hidden; border-radius:14px; border:1px solid rgba(255,255,255,.12); background:rgba(0,0,0,.25);
}
table.tabelista th, table.tabelista td{
  padding:.55rem .6rem; text-align:left; font-size:.9rem; border-bottom:1px solid rgba(255,255,255,.08);
}
table.tabelista thead th{
  font-weight:900; letter-spacing:.06em; text-transform:uppercase; background:rgba(255,255,255,.04);
}
table.tabelista td.num{ text-align:right; font-variant-numeric: tabular-nums; }
table.tabelista tbody tr:last-child td{ border-bottom:0; }
table.tabelista tbody tr:hover td{ background:rgba(27,228,255,.06); }

/* md-block arch */
.md-block{ position:relative; border-radius:14px; }
.md-block.arch::before{
  content:""; position:absolute; inset:0; border-radius:14px;
  border:1px solid color-mix(in oklab, var(--arch-color, rgba(27,228,255,.7)) 65%, transparent);
  box-shadow:0 0 0 1px color-mix(in oklab, var(--arch-color, rgba(27,228,255,.7)) 35%, transparent) inset,
             0 0 18px color-mix(in oklab, var(--arch-color, rgba(27,228,255,.7)) 45%, transparent);
  pointer-events:none; opacity:.85;
}
.md-block-tag{
  display:inline-flex; align-items:center; gap:.35rem; font-size:10px; font-weight:900;
  letter-spacing:.12em; text-transform:uppercase; opacity:.9; margin-bottom:.25rem;
}
.md-block-tag .dot{
  width:12px;height:12px;border-radius:999px;display:inline-block;
  background:color-mix(in oklab, var(--arch-color, #1be4ff) 35%, transparent);
  border:1px solid color-mix(in oklab, var(--arch-color, #1be4ff) 70%, transparent);
  box-shadow:0 0 8px color-mix(in oklab, var(--arch-color, #1be4ff) 80%, transparent);
}

/* callouts arch + nested */
.callout{ position:relative; margin:.55rem 0; padding:.8rem .9rem .85rem; border-radius:14px; background:rgba(0,0,0,.22);
  border:1px solid rgba(255,255,255,.10); box-shadow:0 10px 22px rgba(0,0,0,.45); }
.callout::before{
  content:""; position:absolute; inset:0; border-radius:14px;
  border:1px solid color-mix(in oklab, var(--arch-color, rgba(27,228,255,.7)) 65%, transparent);
  box-shadow:0 0 0 1px color-mix(in oklab, var(--arch-color, rgba(27,228,255,.7)) 35%, transparent) inset,
             0 0 18px color-mix(in oklab, var(--arch-color, rgba(27,228,255,.7)) 40%, transparent);
  pointer-events:none; opacity:.9;
}
.callout-title{ display:flex; align-items:center; gap:.45rem; font-size:11px; letter-spacing:.12em; font-weight:900; text-transform:uppercase; opacity:.9; margin-bottom:.35rem; }
.callout-icon{
  width:18px; height:18px; border-radius:999px; display:grid; place-items:center; font-size:12px;
  background:color-mix(in oklab, var(--arch-color, #1be4ff) 20%, transparent);
  border:1px solid color-mix(in oklab, var(--arch-color, #1be4ff) 45%, transparent);
  box-shadow:0 0 10px color-mix(in oklab, var(--arch-color, #1be4ff) 60%, transparent);
}
.callout.level-2{ margin-left:.7rem; }
.callout.level-3{ margin-left:1.2rem; }
.callout.level-4{ margin-left:1.7rem; }
.callout.level-5{ margin-left:2.2rem; }
.callout.level-2::before, .callout.level-3::before, .callout.level-4::before, .callout.level-5::before{ opacity:.75; border-style:dashed; }
/* ====================================================================== */

/* ====================================================================== */
/* ZERO-COLAGEM PATCH â€” Viewer Local + Icons Lab DevPanel                 */
/* MOBILE-FIRST VERTICAL HARD-LOCK                                        */
/* ====================================================================== */

.devpanel-overlay{
  position:fixed; inset:0; z-index:80; display:none;
  background:rgba(1,2,10,.88); backdrop-filter: blur(8px);
  padding: env(safe-area-inset-top) 10px env(safe-area-inset-bottom);
}
.devpanel-overlay.show{ display:block; }

.devpanel{
  width:100%; height:100%;
  max-width:900px; margin:0 auto;
  background:rgba(0,0,0,.55);
  border:1px solid rgba(255,255,255,.10);
  border-radius:18px;
  display:flex; flex-direction:column;
  overflow:hidden;
}
.devpanel .devpanel-head{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 12px; background:rgba(0,0,0,.45);
  border-bottom:1px solid rgba(255,255,255,.08);
}
.devpanel .devpanel-title{ font-weight:800; letter-spacing:.3px; }
.devpanel .devpanel-body{
  flex:1; overflow:auto; padding:10px;
}
.devpanel .section{ margin-bottom:12px; }

.devpanel .section.icons-lab{
  margin-top:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.28);
  border-radius:14px;
}
.devpanel .icons-row{
  display:flex; gap:8px; flex-wrap:wrap;
}
.devpanel .icons-row .btn{
  border-radius:12px;
  padding:.55rem .7rem;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(0,0,0,.35);
  font-size:.85rem;
  min-height:44px;
}
.devpanel .icons-row .btn:hover{
  border-color:rgba(27,228,255,.6);
  background:rgba(27,228,255,.08);
}

.fab-devpanel{
  position:fixed; right:14px; bottom:14px;
  z-index:79; border-radius:999px; width:56px; height:56px;
  display:flex; align-items:center; justify-content:center;
  border:1px solid rgba(255,255,255,.14);
  background:
    radial-gradient(120px 120px at 30% 20%, rgba(255,0,255,.35), transparent 55%),
    radial-gradient(120px 120px at 70% 20%, rgba(0,255,255,.35), transparent 55%),
    rgba(0,0,0,.6);
  box-shadow:0 10px 30px rgba(0,0,0,.8);
  color:inherit; font-size:20px;
  min-width:44px; min-height:44px;
  padding-bottom: env(safe-area-inset-bottom);
}


/* ====================================================================== */
/* DUAL BRAIN UI                                                         */
/* ====================================================================== */

.db-section{
  margin-top:14px;
  padding:12px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.28);
  border-radius:16px;
}
.db-head{ margin-bottom:8px; }
.db-title{
  font-weight:800; font-size:1.05rem; letter-spacing:.3px;
}
.db-sub{ opacity:.7; font-size:.8rem; }

.db-card{
  margin-top:10px;
  padding:10px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.10);
  background:
    radial-gradient(900px 520px at 0% 0%, rgba(240,0,255,.06), transparent 55%),
    radial-gradient(820px 520px at 100% 0%, rgba(0,255,255,.06), transparent 55%),
    rgba(0,0,0,.25);
}
.db-card-title{
  font-weight:700; font-size:.9rem; margin-bottom:8px;
}

.db-row{
  display:flex; gap:8px; align-items:center; flex-wrap:wrap;
  margin-bottom:6px;
}
.db-row label{ font-size:.8rem; opacity:.85; }

.db-row input[type="text"], .db-row input[type="url"], .db-row select{
  width:100%;
  padding:.55rem .6rem;
  border-radius:10px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(0,0,0,.35);
  color:inherit;
  outline:none;
}

.db-row input[type="range"]{
  width:100%;
}

.db-pre{
  padding:8px;
  min-height:80px;
  max-height:220px;
  overflow:auto;
  background:rgba(0,0,0,.45);
  border:1px solid rgba(255,255,255,.10);
  border-radius:10px;
  font-family:ui-monospace,Menlo,monospace;
  font-size:.78rem;
  white-space:pre-wrap;
}

.db-check{
  display:flex; gap:8px; align-items:center; font-size:.82rem;
}
.db-small{ font-size:.78rem; opacity:.8; padding-top:4px; }

.btn.warn{
  border-color: rgba(255,120,120,.6);
  background: rgba(255,120,120,.12);
}


/* ====================================================================== */
/* DUAL BODY UI                                                          */
/* ====================================================================== */

.dual-body{
  position:fixed;
  inset:0;
  z-index:60;
  display:none;
  flex-direction:column;
  background:rgba(1,2,10,.96);
  backdrop-filter: blur(8px);
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
}
.dual-body.show{ display:flex; }

.dbody-bar{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 12px;
  border-bottom:1px solid rgba(255,255,255,.08);
  background:rgba(0,0,0,.35);
}
.dbody-title{ font-weight:800; letter-spacing:.3px; }
.dbody-actions{ display:flex; gap:8px; }

.dbody-btn{
  border:1px solid rgba(255,255,255,.14);
  background:rgba(0,0,0,.35);
  color:inherit; border-radius:12px;
  padding:.45rem .6rem; font-size:.85rem;
  min-height:44px; min-width:44px;
}
.dbody-btn.wide{ flex:1; }

.dbody-tabs{
  display:flex; gap:6px; padding:8px 10px;
  overflow-x:auto; white-space:nowrap;
  border-bottom:1px solid rgba(255,255,255,.06);
}
.dbody-tab{
  border:1px solid rgba(255,255,255,.12);
  background:rgba(0,0,0,.35);
  color:inherit; border-radius:999px;
  padding:.4rem .75rem; font-size:.82rem; min-height:44px;
}
.dbody-tab.active{
  border-color:rgba(27,228,255,.7);
  background:rgba(27,228,255,.12);
}

.dbody-panels{ flex:1; overflow:hidden; position:relative; }
.dbody-panel{
  position:absolute; inset:0; display:none;
  padding:10px; overflow:auto;
}
.dbody-panel.show{ display:block; }

.dbody-viewer-head{
  display:flex; flex-direction:column; gap:4px; margin-bottom:8px;
}
.dbody-viewer-title{ font-weight:700; font-size:.95rem; }
.dbody-viewer-meta{ opacity:.75; font-size:.78rem; }

.dbody-frame-wrap{
  width:100%; height:58vh; border-radius:16px; overflow:hidden;
  border:1px solid rgba(255,255,255,.10);
  background:#000;
}
.dbody-frame{
  width:100%; height:100%; border:0; background:#000;
}

.dbody-viewer-foot{
  display:flex; gap:8px; margin-top:8px;
}

.dbody-card{
  padding:10px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.10);
  background:
    radial-gradient(900px 520px at 0% 0%, rgba(240,0,255,.06), transparent 55%),
    radial-gradient(820px 520px at 100% 0%, rgba(0,255,255,.06), transparent 55%),
    rgba(0,0,0,.25);
}
.dbody-card-title{ font-weight:700; margin-bottom:8px; }

.dbody-stacks{
  display:flex; flex-direction:column; gap:8px;
}
.stack-item{
  display:flex; gap:8px; align-items:center;
  padding:8px; border-radius:12px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.35);
}
.stack-item .meta{ flex:1; min-width:0; }
.stack-item .title{ font-weight:600; font-size:.9rem; }
.stack-item .url{ font-size:.75rem; opacity:.7; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.stack-item .actions{ display:flex; gap:6px; }

.dbody-editor{
  width:100%; min-height:42vh; resize:vertical;
  border-radius:12px; padding:10px;
  background:rgba(0,0,0,.55); color:inherit;
  border:1px solid rgba(255,255,255,.12);
  font-family:ui-monospace,Menlo,monospace;
  font-size:.82rem; line-height:1.45;
}
.dbody-editor-actions{
  display:flex; gap:8px; margin-top:8px;
}
.dbody-small{ font-size:.78rem; opacity:.8; margin-top:6px; }


/* ===== PATCH: POLISH FINAL v1 (Nebula Pro + Base Madeira) ===== */
:root{
  --btn-glow: 0 0 0 1px rgba(92,255,157,.18) inset, 0 0 18px rgba(92,255,157,.12);
  --btn-glow-cyan: 0 0 0 1px rgba(27,228,255,.18) inset, 0 0 18px rgba(27,228,255,.12);
}

/* mini / icon buttons (p/ emojis ou SVGs) */
button.icon, .iconbtn, .btn.icon{
  padding:0 10px;
  min-width:44px;
  display:inline-flex; align-items:center; justify-content:center;
  gap:6px;
  font-weight:800;
}
button.icon .ic, .iconbtn .ic, .btn.icon .ic{
  font-size:18px; line-height:1; opacity:.95;
  filter: drop-shadow(0 0 6px rgba(0,0,0,.6));
}
button.icon{
  background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
  box-shadow: var(--btn-glow-cyan);
}

/* hover/active mais "fÃ­sico" */
button:active, .iconbtn:active{
  transform: translateY(1px) scale(.985);
}

/* range slider bonito (WebKit + Firefox) */
input[type="range"]{
  width:100%;
  -webkit-appearance:none;
  appearance:none;
  height:30px;
  background:transparent;
}
input[type="range"]::-webkit-slider-runnable-track{
  height:6px;
  background:linear-gradient(90deg, var(--nebula-a), var(--wood), var(--nebula-b));
  border-radius:999px;
  border:1px solid rgba(255,255,255,.12);
  box-shadow:0 0 12px rgba(0,0,0,.6) inset;
}
input[type="range"]::-webkit-slider-thumb{
  -webkit-appearance:none;
  appearance:none;
  width:20px; height:20px; border-radius:999px;
  background:radial-gradient(circle at 30% 30%, #fff, #ddd 35%, var(--wood) 70%);
  border:1px solid rgba(255,255,255,.5);
  box-shadow:0 0 0 2px rgba(0,0,0,.5), 0 0 14px rgba(92,255,157,.6);
  margin-top:-8px;
}
input[type="range"]::-moz-range-track{
  height:6px;
  background:linear-gradient(90deg, var(--nebula-a), var(--wood), var(--nebula-b));
  border-radius:999px;
  border:1px solid rgba(255,255,255,.12);
}
input[type="range"]::-moz-range-thumb{
  width:20px; height:20px; border-radius:999px;
  background:radial-gradient(circle at 30% 30%, #fff, #ddd 35%, var(--wood) 70%);
  border:1px solid rgba(255,255,255,.5);
  box-shadow:0 0 14px rgba(92,255,157,.6);
}

/* scrollbar horizontal discreta em rows */
.btnRow, .devpanel .icons-row{
  scrollbar-width:thin;
}
.btnRow::-webkit-scrollbar, .devpanel .icons-row::-webkit-scrollbar{
  height:6px;
}
.btnRow::-webkit-scrollbar-thumb, .devpanel .icons-row::-webkit-scrollbar-thumb{
  background:rgba(255,255,255,.18);
  border-radius:999px;
}

/* overlay garante clique sÃ³ quando show */
.devpanel-overlay{ pointer-events:none; opacity:0; transition:opacity .18s ease; }
.devpanel-overlay.show{ pointer-events:auto; opacity:1; }


